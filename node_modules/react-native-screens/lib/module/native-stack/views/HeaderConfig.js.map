{"version":3,"names":["useTheme","React","Platform","ScreenStackHeaderBackButtonImage","ScreenStackHeaderCenterView","ScreenStackHeaderConfig","ScreenStackHeaderLeftView","ScreenStackHeaderRightView","ScreenStackHeaderSearchBarView","SearchBar","isSearchBarAvailableForCurrentPlatform","executeNativeBackPress","useBackPressSubscription","processFonts","HeaderConfig","backButtonImage","backButtonInCustomView","direction","disableBackButtonMenu","headerBackTitle","headerBackTitleStyle","headerBackTitleVisible","headerCenter","headerHideBackButton","headerHideShadow","headerLargeStyle","headerLargeTitle","headerLargeTitleHideShadow","headerLargeTitleStyle","headerLeft","headerRight","headerShown","headerStyle","headerTintColor","headerTitle","headerTitleStyle","headerTopInsetEnabled","headerTranslucent","route","searchBar","title","colors","tintColor","primary","handleAttached","handleDetached","clearSubscription","createSubscription","onBackPress","isDisabled","disableBackButtonOverride","backTitleFontFamily","largeTitleFontFamily","titleFontFamily","fontFamily","useEffect","processedSearchBarOptions","useMemo","OS","onFocus","args","onClose","backgroundColor","card","fontSize","blurEffect","color","fontWeight","undefined","name","text"],"sources":["HeaderConfig.tsx"],"sourcesContent":["import { Route, useTheme } from '@react-navigation/native';\nimport * as React from 'react';\nimport { Platform } from 'react-native';\nimport {\n  ScreenStackHeaderBackButtonImage,\n  ScreenStackHeaderCenterView,\n  ScreenStackHeaderConfig,\n  ScreenStackHeaderLeftView,\n  ScreenStackHeaderRightView,\n  ScreenStackHeaderSearchBarView,\n  SearchBar,\n  SearchBarProps,\n  isSearchBarAvailableForCurrentPlatform,\n  executeNativeBackPress,\n} from 'react-native-screens';\nimport { NativeStackNavigationOptions } from '../types';\nimport { useBackPressSubscription } from '../utils/useBackPressSubscription';\nimport { processFonts } from './FontProcessor';\n\ntype Props = NativeStackNavigationOptions & {\n  route: Route<string>;\n};\n\nexport default function HeaderConfig({\n  backButtonImage,\n  backButtonInCustomView,\n  direction,\n  disableBackButtonMenu,\n  headerBackTitle,\n  headerBackTitleStyle = {},\n  headerBackTitleVisible = true,\n  headerCenter,\n  headerHideBackButton,\n  headerHideShadow,\n  headerLargeStyle = {},\n  headerLargeTitle,\n  headerLargeTitleHideShadow,\n  headerLargeTitleStyle = {},\n  headerLeft,\n  headerRight,\n  headerShown,\n  headerStyle = {},\n  headerTintColor,\n  headerTitle,\n  headerTitleStyle = {},\n  headerTopInsetEnabled = true,\n  headerTranslucent,\n  route,\n  searchBar,\n  title,\n}: Props): JSX.Element {\n  const { colors } = useTheme();\n  const tintColor = headerTintColor ?? colors.primary;\n\n  // We need to use back press subscription here to override back button behavior on JS side.\n  // Because screens are usually used with react-navigation and this library overrides back button\n  // we need to handle it first in case when search bar is open\n  const {\n    handleAttached,\n    handleDetached,\n    clearSubscription,\n    createSubscription,\n  } = useBackPressSubscription({\n    onBackPress: executeNativeBackPress,\n    isDisabled: !searchBar || !!searchBar.disableBackButtonOverride,\n  });\n\n  const [backTitleFontFamily, largeTitleFontFamily, titleFontFamily] =\n    processFonts([\n      headerBackTitleStyle.fontFamily,\n      headerLargeTitleStyle.fontFamily,\n      headerTitleStyle.fontFamily,\n    ]);\n\n  // We want to clear clearSubscription only when components unmounts or search bar changes\n  React.useEffect(() => clearSubscription, [searchBar]);\n\n  const processedSearchBarOptions = React.useMemo(() => {\n    if (\n      Platform.OS === 'android' &&\n      searchBar &&\n      !searchBar.disableBackButtonOverride\n    ) {\n      const onFocus: SearchBarProps['onFocus'] = (...args) => {\n        createSubscription();\n        searchBar.onFocus?.(...args);\n      };\n      const onClose: SearchBarProps['onClose'] = (...args) => {\n        clearSubscription();\n        searchBar.onClose?.(...args);\n      };\n\n      return { ...searchBar, onFocus, onClose };\n    }\n    return searchBar;\n  }, [searchBar, createSubscription, clearSubscription]);\n\n  return (\n    <ScreenStackHeaderConfig\n      backButtonInCustomView={backButtonInCustomView}\n      backgroundColor={\n        headerStyle.backgroundColor ? headerStyle.backgroundColor : colors.card\n      }\n      backTitle={headerBackTitleVisible ? headerBackTitle : ' '}\n      backTitleFontFamily={backTitleFontFamily}\n      backTitleFontSize={headerBackTitleStyle.fontSize}\n      blurEffect={headerStyle.blurEffect}\n      color={tintColor}\n      direction={direction}\n      disableBackButtonMenu={disableBackButtonMenu}\n      hidden={headerShown === false}\n      hideBackButton={headerHideBackButton}\n      hideShadow={headerHideShadow}\n      largeTitle={headerLargeTitle}\n      largeTitleBackgroundColor={headerLargeStyle.backgroundColor}\n      largeTitleColor={headerLargeTitleStyle.color}\n      largeTitleFontFamily={largeTitleFontFamily}\n      largeTitleFontSize={headerLargeTitleStyle.fontSize}\n      largeTitleFontWeight={headerLargeTitleStyle.fontWeight}\n      largeTitleHideShadow={headerLargeTitleHideShadow}\n      title={\n        headerTitle !== undefined\n          ? headerTitle\n          : title !== undefined\n          ? title\n          : route.name\n      }\n      titleColor={\n        headerTitleStyle.color !== undefined\n          ? headerTitleStyle.color\n          : headerTintColor !== undefined\n          ? headerTintColor\n          : colors.text\n      }\n      titleFontFamily={titleFontFamily}\n      titleFontSize={headerTitleStyle.fontSize}\n      titleFontWeight={headerTitleStyle.fontWeight}\n      topInsetEnabled={headerTopInsetEnabled}\n      translucent={headerTranslucent === true}\n      onAttached={handleAttached}\n      onDetached={handleDetached}\n    >\n      {headerRight !== undefined ? (\n        <ScreenStackHeaderRightView>\n          {headerRight({ tintColor })}\n        </ScreenStackHeaderRightView>\n      ) : null}\n      {backButtonImage !== undefined ? (\n        <ScreenStackHeaderBackButtonImage\n          key=\"backImage\"\n          source={backButtonImage}\n        />\n      ) : null}\n      {headerLeft !== undefined ? (\n        <ScreenStackHeaderLeftView>\n          {headerLeft({ tintColor })}\n        </ScreenStackHeaderLeftView>\n      ) : null}\n      {headerCenter !== undefined ? (\n        <ScreenStackHeaderCenterView>\n          {headerCenter({ tintColor })}\n        </ScreenStackHeaderCenterView>\n      ) : null}\n      {isSearchBarAvailableForCurrentPlatform &&\n      processedSearchBarOptions !== undefined ? (\n        <ScreenStackHeaderSearchBarView>\n          <SearchBar {...processedSearchBarOptions} />\n        </ScreenStackHeaderSearchBarView>\n      ) : null}\n    </ScreenStackHeaderConfig>\n  );\n}\n"],"mappings":"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"}